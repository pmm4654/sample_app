<h1>Invoices</h1>
<table>
  <thead>
    <tr>    
    <% @default_headers.each do |field_name| %>
      <td><%= "#{field_name}" %></td>
    <% end %>
    </tr>
  </thead>
  <tbody>
    <% @invoices.each do |invoice| %>
      <tr>
      <% @default_headers.each do |field_name| %>
        <% if @index.respond_to?(field_name) %>
          <td><%= invoice.send(field_name) %></td>
        <% else %>
          <td><%= invoice.index_display_value_for(field_name) %></td>
        <% end %>
      <% end %>
      </tr>
    <% end %>
    
  </tbody>

</table>

<%= @default_headers %>
<p id="notice"><%= notice %></p>

<h1>Invoices</h1>

<table>
  <thead>
    <tr>
      <th>Amount</th>
      <th>Title</th>
      <th>Description</th>
      <th>Customer</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @invoices.each do |invoice| %>
      <tr>
        <td><%= invoice.amount %></td>
        <td><%= invoice.title %></td>
        <td><%= invoice.description %></td>
        <td><%= invoice.customer %></td>
        <td><%= link_to 'Show', invoice %></td>
        <td><%= link_to 'Edit', edit_invoice_path(invoice) %></td>
        <td><%= link_to 'Destroy', invoice, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Invoice', new_invoice_path %>
